 #поиск-работы  #publish #яндекс #public-note 

# Содержание

Эта заметка может помочь подготовиться к архитектурному собеседованию в Яндекс на позицию senior или team lead.
У меня лично это был 5 этап собеседования после: 1 технического, 2 технического и [[подготовка к алгоритмическому собеседованию - курс яндекса|алгоритмического собеседования]]

# Ссылки

Ссылка на [статью](https://habr.com/ru/companies/yandex/articles/564132/)

# Content

Кандадита на уровень senior || lead проверяют на умение проектировать системы

Основная цель любой IT-компании — производить сервисы, которые решают задачи пользователей. ^3695ec

==Основная цель меня как индивида - производить контент, который будет полезен моим подписчикам и будет решать их задачи. И эту систему стоит наладить и автоматизировать.==

Мы должны **уметь собирать элементы системы в единый механизм**, который будет эффективно выполнять поставленную цель, и если первый тип собеседований нацелен в первую очередь на проверку необходимого минимума, то **интервью про дизайн систем проверяет достаточность навыков** кандидата в **достижении конечной цели**.

> Опытный читатель может сказать — в мире полно платных и бесплатных решений, из которых я могу собрать систему как из деталей конструктора, зачем мне понимать устройство этих деталей? Если мне нужна база данных, я возьму PostgreSQL и буду хранить свои данные в нем, для обработки HTTPS-запросов использую nginx, а сервис реализую на популярном фреймворке для написания HTTP-сервисов моего любимого языка программирования.

Наверное, **это будет отличным решением**, если вы собрались писать сервис для небольшой аудитории, но **сервисы большой компании обычно немного сложнее устроены и сильнее нагружены**.

==Для простых и решений средней сложности будет достаточно самых популярных решений.
Тем не менее очень полезно понимать какое решение подойдет лучше и не бояться изучать новое.
Важно сравнивать характеристики систем и понимать их основные плюсы и минусы==


Хороший разработчик должен представлять систему **в четырех измерениях**: не только понимать назначение и взаимосвязь ее компонент, оценивать способность системы выполнять заданные функции и выдерживать проектные нагрузки прямо сейчас, **но и представлять ее развитие во времени на несколько лет вперед** — насколько легко компоненты могут быть заменены при необходимости, как могут меняться требования к функциональности и объему данных в будущем, какая часть системы потребует модернизации, что может стать «бутылочным горлышком» (то есть какая часть наиболее чувствительна к нагрузке) и что может стать причиной отказа.

==Интерстеллар - сцена с 4 измерениями пришла в голову== ^c3b754

![[Pasted image 20230706100902.png]]
Винни пух - интерстеллар, выглядело бы как-то так =D

## **Metric first**

**Возможность сохранения работоспособности системы в нештатных условиях**, продумывание сценариев отказов и мер по их предотвращению — тоже **ответственность разработчика**. Вспомните хотя бы [заблуждения](https://en.wikipedia.org/wiki/Fallacies_of_distributed_computing) про распределенные вычисления — сформированные более 20 лет назад суждения не стали менее актуальны. Сейчас эксплуатация и гарантия высокой доступности сервисов — это отдельная большая область знаний, известная как [SRE](https://habr.com/ru/company/piter/blog/420139/). Как и [TDD](https://ru.wikipedia.org/wiki/%D0%A0%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0_%D1%87%D0%B5%D1%80%D0%B5%D0%B7_%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5), де-факто ставший стандартом в разработке модулей и компонент, невероятно важным аспектом в проектировании и эксплуатации сложных систем становятся метрики проекта. Они не только показывают работоспособность системы в моменте, но позволяют выполнять корректировку планов развития системы по выводам из ретроспективного анализа этих метрик. Вообще, в проектировании систем уже давно используют **подход metrics first** — сначала необходимо определить или построить метрику, которую вы улучшаете, и только затем начать менять систему.

#### ==Идеи==

- Фронт разработчик отвечает за работоспособность спроектированного front-end приложения.
- Но в так же он должен понимать точки отказа других систем и обрабатывать эти случаи - иметь метрики и алерты на этот случай

- [ ] Изучить тестирование с Jest на React #к-изучению 

## Аргументирование выбора и коммуникация

**Четко, ясно и аргументированно выражать свое мнение - важный навык для разработчика, претендующего на роль архитектора.**

Времена, когда человек мог в одиночку спроектировать и реализовать систему уровня разрабатываемых сейчас в крупных IT-компаниях, давно прошли.

**Даже если вы единственный технический лидер небольшого проекта, все равно важно объяснять причины и факторы конкретного решения менее опытным разработчикам.**

Объяснение причин и факторов конкретного решения помогает менее опытным разработчикам получать опыт и качественно развиваться.

## Должности разработчиков и в чем разница

^c6f454

- [ ] Про должности [разработчиков](https://habr.com/ru/articles/135865/)

А разработчик обязан думать обо всем перечисленном. Я бы даже сказал, что это должен быть именно инженер-разработчик, потому что инжене́рия — область деятельности, связанная с применением результатов исследований на практике. Кстати, [вот](https://habr.com/ru/post/135865/) очень интересная интерпретация названий должностей разработчиков от [valyard](https://habr.com/ru/users/valyard/).


==Инженер - это человек, который применяет исследования на практике.
Инженер-разработчик - применяет их с использованием кода==

Суть архитектурного собеседования в том, чтобы убедиться, что разработчик **умеет принимать тенические решения по архитектуре**

> И что разработчик может справиться с возлагаемой на него ответственностью.


## Процесс собеседования

Будет предложено спроектировать одну из систем Яндекса.


**Этапы архитектурного собеседования**
- Уточнение задачи - формализация требований, количество пользователей, нагрузки. Важно собрать все дополнительные данные необходимые для решения задачи

==Мысли==

![[Pasted image 20230707120422.png|400]]

Во время написания диплома были такие этапы
- Определение и исследование предметной области
	- Сначала надо понять **что мы делаем и для кого мы делаем** - это задает очень много контекста и по сути это первый фильтр через который пропускаются все требования к системе тк становится понятно:
		- Нужно ли это **конкретной ЦА** или нет
		- Важна ли фича на 1 этапе разработки или ее можно перенести на дальнейшие этапы разработки
- Обоснование выбора
- Создание архитектуры - проектирование
- Тестирование системы





# Проектирование системы - shortlinks

Базовый план собеседования по задачам **дизайна систем достаточно прост, как и список критериев, по которому будет оцениваться решение задачи**. Постарайтесь их запомнить и придерживаться в процессе беседы.

### Пример задачи, на основе которого я буду строить рассуждения в этой статье
  
> Представим, что вам нужно спроектировать высоконагруженную систему сокращения URL. Она будет применяться во всех продуктах компании масштаба Facebook с возможностью использования в бесплатной и платной версии. Платная версия не ограничивает RPS, количество ссылок на аккаунт, время жизни и позволяет создавать ссылки из меньшего количества символов.

**Данных для проектирования может быть не достаточно**. Важно уметь выдвигать гипотезы на основе общеизвестны данныз: сколько людей в мире и ли в конкретной стране, у какого количества людей есть интернет или необходимые устройства.

==В больших компаниях сбором этих данных и аналитикой занимаются product owners. К ним можно обращаться за уточнение данных и, в иделе, получением исследований во время или перед проектированием системы.==

Требования лучше записывать во время собеседования, чтобы на них можно было опираться и банально их не упустить / не забыть.

Пример диалога, который может быть при уточнении требований к системе
```
— Объем переходов по ссылкам?  
— 500 тыс. RPS в пике.  
  
— Используем протокол HTTP или HTTPS?  
— Оба, но нужно расчитывать на преимущественное использование HTTPS.  
  
— Количество ссылок в базе?  
— Всего — миллиард, у платных аккаунтов — миллион.  
  
— Количество аккаунтов?  
— Сотни тысяч бесплатных, тысячи платных.  
  
— Есть ли требование на скорость ответа системы?  
— 150 мс для 95% запросов на чтение.  
  
— Каковы требования к доступности?  
— [Четыре девятки](https://habr.com/ru/company/itsumma/blog/435662/) на чтение.  
  
— Требования на согласованность данных?  
— Данные должны быть строго согласованы для новых ссылок; при модификации существующих ссылок допускается чтение неактуальных данных в течение нескольких секунд после обновления.  
  
— Какое ограничение на частоту запросов действует для ссылок бесплатного аккаунта?  
— Тысяча запросов в минуту.  
  
— Как часто регистрируются новые ссылки?  
— Сотни тысяч в день.  
  
— Будет ли анонимный доступ для реализации ссылок?  
— В базовой версии можно не реализовывать, в расширенной — можно подумать (с ограничениями на добросовестное использование системы).
```

# Потоки данных, API, основные блоки системы 

Перед самим проектирование системы важно сделать предварительный шаги
- собрать все требования к системе
- Прояснить все непонятные моменты по загрузке и развитию системы во времени
- сколько понадобится специалистов и какого типа для ее создания, развития и поддержки
- какой жизненный цикл системы и когда она выйдет из эксплуатации

> При проектировании дальше стоит описать основное API для следующего шага детализации


Обычно блоки, которые есть в каждой системе
- авторизация
- панель управления аккаунтом - админка
- отображение основного функционала и работа с ним



# When do i need use postgres sql and when mongodb,


## Links
Great and smart comparison of [both](https://www.mongodb.com/compare/mongodb-postgresql) with good structure



## MongoDB

**Сильные стороны**
- Эта база данных легко горизонтально масштабируется
- Быстрее записывает и работает в целом - ест меньше ресурсов?
- Подходит для менее структурных данных

**Best use cases**
- Быстрая разработка - разработчики на лету могут менять структуру данных без миграций
- Легко масштабируется в разные регионы
- 

## Postgres SQL

**Сильные стороны**
- Самая мощная и популярная sql база данных, которая имеет все необходимые функции
- Нужна если необходимы сложные sql запросы
- 





















# Проектирование Яндекс еды

**Задача**
Спроектировать сервис Яндекс еды
- front-end
- back end
- мобильное приложение

**Уточнение задачи: формализация требований, оценка аудитории, порядок нагрузки**


**Требования к системе** - первоначальные
1. Нагрузка в пике
2. 


Что система будет делать


Вопросы
1. Какая ЦА для этого сервиса
2. Какие необходимы платформы? Десктоп, планшет, телефон?
3. Это будет встраиваемое приложение?
4. Какие функции должны работать в первой версии?
5. сроки запуска проекта? когда это должно быть сделано?
6. какая поддержка будет у проекта?